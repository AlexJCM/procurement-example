{"designerVersion":"1.2.9","favorite":false,"id":"customListTransferButtons","name":"listTransferButtons","lastUpdate":1453283203822,"template":"<div class=\"row text-center\" style=\"margin-top:60px;\">\r\n    <a class=\"btn btn-primary\" href=\"\" ng-click=\"ctrl.moveRight()\" ng-disabled=\"!ctrl.canMoveRight()\">&gt;</a>\r\n</div>\r\n<div class=\"row text-center\" style=\"margin-top:20px;\">\r\n    <a class=\"btn btn-primary\" href=\"\" ng-click=\"ctrl.moveLeft()\" ng-disabled=\"!ctrl.canMoveLeft()\">&lt;</a>\r\n</div>","controller":"function listTransferButtonsController($scope) {\r\n\r\n    this.moveRight = function() {\r\n        var selection = angular.copy($scope.properties.leftListSelection);\r\n        delete selection.$$hashKey;\r\n        var selectionIndex = this.getItemIndex($scope.properties.leftListValues, 'persistenceId', selection.persistenceId);\r\n        \r\n        console.log('Move right ('+ selectionIndex +'): '+ JSON.stringify(selection));\r\n        \r\n        $scope.properties.leftListValues.splice(selectionIndex, 1);\r\n        $scope.properties.leftListSelection = null;\r\n\t\t$scope.properties.rightListValues.push(selection);\r\n\t\t\r\n\t\tif (angular.isArray($scope.properties.rightListIds))\r\n\t\t\t$scope.properties.rightListIds.push(selection.persistenceId);\r\n    };\r\n    \r\n    this.moveLeft = function() {\r\n        var selection = angular.copy($scope.properties.rightListSelection);\r\n        delete selection.$$hashKey;\r\n        var selectionIndex = this.getItemIndex($scope.properties.rightListValues, 'persistenceId', selection.persistenceId);\r\n        \r\n        console.log('Move left ('+ selectionIndex +'): '+ JSON.stringify(selection));\r\n        \r\n        $scope.properties.rightListValues.splice(selectionIndex, 1);\r\n        $scope.properties.rightListSelection = null;\r\n        $scope.properties.leftListValues.push(selection);\r\n\t\t\r\n\t\tif (angular.isArray($scope.properties.rightListIds))\r\n\t\t\t$scope.properties.rightListIds.splice(selectionIndex, 1);\r\n    };\r\n    \r\n    this.canMoveRight = function() {\r\n        return angular.isDefined($scope.properties.leftListSelection) && $scope.properties.leftListSelection !== null;\r\n    };\r\n    \r\n    this.canMoveLeft = function() {\r\n        return angular.isDefined($scope.properties.rightListSelection) && $scope.properties.rightListSelection !== null;\r\n    };\r\n    \r\n    this.getItemIndex = function(list, key, value) {\r\n        var index = null;\r\n        for (var i=0; index === null && i<list.length; i++) {\r\n            if (list[i][key] == value)\r\n                index = i;\r\n        }\r\n        return index;\r\n    };\r\n}","description":"Buttons for transferring elements between two lists","custom":true,"properties":[{"label":"Left list values","name":"leftListValues","type":"text","bond":"variable"},{"label":"Left list selection","name":"leftListSelection","type":"text","bond":"variable"},{"label":"Right list values","name":"rightListValues","type":"text","bond":"variable"},{"label":"Right list selection","name":"rightListSelection","type":"text","bond":"variable"},{"label":"Right list ids","name":"rightListIds","type":"text","bond":"variable"}],"assets":[]}